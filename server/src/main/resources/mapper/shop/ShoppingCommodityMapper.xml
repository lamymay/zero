<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- Mybatis mapper for ShoppingCommodity  Auto generated by fms-mybatis-generator -->
<mapper namespace="com.arc.zero.mapper.shop.ShoppingCommodityMapper">
	<resultMap id="shoppingCommodity" type="com.arc.core.model.domain.shop.ShoppingCommodity">
		<id property="id" column="shopping_commodity_id" javaType="long" jdbcType="BIGINT" />
		<result property="name" column="shopping_commodity_name" javaType="string" jdbcType="VARCHAR" />
		<result property="amount" column="shopping_commodity_amount" javaType="int" jdbcType="INTEGER" />
		<result property="amountUnit" column="shopping_commodity_amountUnit" javaType="string" jdbcType="VARCHAR" />
		<result property="unitPrice" column="shopping_commodity_unit_price" javaType="int" jdbcType="INTEGER" />
		<result property="discount" column="shopping_commodity_discount" javaType="int" jdbcType="INTEGER" />
		<result property="priceUnit" column="shopping_commodity_price_unit" javaType="string" jdbcType="VARCHAR" />
		<result property="finalPrice" column="shopping_commodity_final_price" javaType="int" jdbcType="INTEGER" />
		<result property="state" column="shopping_commodity_state"   />
		<result property="remark" column="shopping_commodity_remark" javaType="string" jdbcType="VARCHAR" />
		<result property="avatar" column="shopping_commodity_avatar" javaType="string" jdbcType="VARCHAR" />
		<result property="nameEnglish" column="shopping_commodity_name_english" javaType="string" jdbcType="VARCHAR" />
		<result property="createTime" column="shopping_commodity_create_time" javaType="java.time.LocalDateTime" jdbcType="TIMESTAMP" />
		<result property="updateTime" column="shopping_commodity_update_time" javaType="java.time.LocalDateTime" jdbcType="TIMESTAMP" />
	</resultMap>

	<sql id="sqlShoppingCommodityColumns">
		shopping_commodity_.id AS shopping_commodity_id,
		shopping_commodity_.name AS shopping_commodity_name,
		shopping_commodity_.amount AS shopping_commodity_amount,
		shopping_commodity_.amountUnit AS shopping_commodity_amountUnit,
		shopping_commodity_.unit_price AS shopping_commodity_unit_price,
		shopping_commodity_.discount AS shopping_commodity_discount,
		shopping_commodity_.price_unit AS shopping_commodity_price_unit,
		shopping_commodity_.final_price AS shopping_commodity_final_price,
		shopping_commodity_.state AS shopping_commodity_state,
		shopping_commodity_.remark AS shopping_commodity_remark,
		shopping_commodity_.avatar AS shopping_commodity_avatar,
		shopping_commodity_.name_english AS shopping_commodity_name_english,
		shopping_commodity_.create_time AS shopping_commodity_create_time,
		shopping_commodity_.update_time AS shopping_commodity_update_time
	</sql>

	<select id="get" parameterType="long" resultMap="shoppingCommodity">
		SELECT <include refid="sqlShoppingCommodityColumns" />
        FROM t_shopping_commodity shopping_commodity_
        WHERE shopping_commodity_.id = #{id,jdbcType=BIGINT}
	</select>

	<insert id="save" parameterType="com.arc.core.model.domain.shop.ShoppingCommodity" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO t_shopping_commodity (
			`name`,
			amount,
			amountUnit,
			unit_price,
			discount,
			price_unit,
			final_price,
			state,
			remark,
			avatar,
			name_english,
			create_time,
		)
        VALUES (
			#{name,jdbcType=VARCHAR},
			#{amount,jdbcType=INTEGER},
			#{amountUnit,jdbcType=VARCHAR},
			#{unitPrice,jdbcType=INTEGER},
			#{discount,jdbcType=INTEGER},
			#{priceUnit,jdbcType=VARCHAR},
			#{finalPrice,jdbcType=INTEGER},
			#{state},
			#{remark,jdbcType=VARCHAR},
			#{avatar,jdbcType=VARCHAR},
			#{nameEnglish,jdbcType=VARCHAR},
			#{createTime,jdbcType=TIMESTAMP},
		)
	</insert>

	<update id="update" parameterType="com.arc.core.model.domain.shop.ShoppingCommodity">
		UPDATE t_shopping_commodity
		<set>
			<if test="name != null and name != ''"> `name` = #{name,jdbcType=VARCHAR},</if>
			<if test="amount != null">amount = #{amount,jdbcType=INTEGER},</if>
			<if test="amountUnit != null and amountUnit != ''">amountUnit = #{amountUnit,jdbcType=VARCHAR},</if>
			<if test="unitPrice != null">unit_price = #{unitPrice,jdbcType=INTEGER},</if>
			<if test="discount != null">discount = #{discount,jdbcType=INTEGER},</if>
			<if test="priceUnit != null and priceUnit != ''">price_unit = #{priceUnit,jdbcType=VARCHAR},</if>
			<if test="finalPrice != null">final_price = #{finalPrice,jdbcType=INTEGER},</if>
			<if test="state != null">state = #{state},</if>
			<if test="remark != null and remark != ''">remark = #{remark,jdbcType=VARCHAR},</if>
			<if test="avatar != null and avatar != ''">avatar = #{avatar,jdbcType=VARCHAR},</if>
			<if test="nameEnglish != null and nameEnglish != ''">name_english = #{nameEnglish,jdbcType=VARCHAR},</if>
			<if test="updateTime != null">update_time = #{updateTime,jdbcType=TIMESTAMP},</if>
		</set>
		WHERE id = #{id,jdbcType=BIGINT}
	</update>

</mapper>
